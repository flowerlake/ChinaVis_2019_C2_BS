<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'/>

    <!--     <link rel="stylesheet" href='./change_overtime.css'>-->
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.0.0/mapbox-gl.css' rel='stylesheet'/>
    {#    <link rel="stylesheet" type="text/css" href="../static/css/styles.css">#}


    <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.0.9/mapbox-gl-draw.css'
          type='text/css'/>
    <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v3.0.11/turf.min.js'></script>

    <title>Chinavis 2019 界面 2</title>
    <link rel="stylesheet" href="../static/css/Framework2.css">
    <link rel="stylesheet" href="../static/css/easydialog.css">
    <link rel="stylesheet" href="../static/css/mapbox-gl-traffic.css">

    <style>
        #dialog {
            height: 600px;
            width: 900px;
            border: 2px solid #d5d9dc;
            box-shadow: 2px 2px 2px 1px #666666;
        }

        #easyDialogTitle {
            color: #d5d9dc;
            font-size: 20px;
        }

        #closeBtn img {
            width: 20px;
            height: 20px;
        }

        .info-box {
            height: 100px;
            width: 150px;
            position: absolute;
            top: 20px;
            left: 10px;
        {#background-color: rgba(255, 255, 255, .9);#} padding: 15px;
            text-align: left;
            font-family: 'Arial';
            margin: 0;
            font-size: 13px;
        }

        .calculation-box {
            height: 75px;
            width: 150px;
            position: absolute;
            bottom: 40px;
            left: 10px;
        {#background-color: rgba(255, 255, 255, .9);#} padding: 15px;
            text-align: center;
        }

        p {
            font-family: 'Open Sans';
            margin: 0;
            font-size: 13px;
        }

        /*#features {*/
        /*    position: absolute;*/
        /*    top: 0;*/
        /*    right: 0;*/
        /*    bottom: 0;*/
        /*    width: 300px;*/
        /*    overflow: auto;*/
        /*    background: rgba(255, 255, 255, 0.8);*/
        /*}*/

    </style>
</head>
<body>
<div id='marker'></div>
<div class="container">
    <header>
        <div class="herder_bg" id="index2"></div>
        <a id="switch_btn2" href="/index"></a>
        <a id="switch_btn5" href="/index2"></a>
        <a id="switch_btn1" href="/index3"></a>
        <a id="switch_btn3" href="/map4"></a>
        <a id="switch_btn4" href="/map5"></a>
    </header>
    <article>
        <div id="hideleft"></div>

        <div id="hideright"></div>

        <div id="dialog" class="easyDialog_wrapper" style="background: url('../static/image/background.jpg')">
            <div class="easyDialog_content">
                <div class="easyDialog_title" id="easyDialogTitle">
                    <p style="color: #000">拥堵区域基本情况 <a href="javascript:void(0)" title="关闭窗口" class="close_btn"
                                                       id="closeBtn" style="background: #000"><img
                            src="../static/image/close.png" alt=""></a>
                        <!--                    <img src="./easydialog-v2.0/test_img.jpg" alt=""/>-->
                </div>

                <div>
                    <!--                    <div>-->
                    <!--                        <div style="width: 500px;height: 200px;background-color: #ffffff"-->
                    <!--                             align="left">-->
                    <!--                            <div id="ec1"></div>-->
                    <!--                        </div>-->
                    <!--                        <div style="width: 500px;height: 200px;background-color: #ffffff"-->
                    <!--                             align="left">-->
                    <!--                            <div id="ec3" ></div>-->
                    <!--                        </div>-->
                    <!--                        <div style="width: 250px;height: 200px;background-color: #ffffff" align="left"></div>-->
                    <!--                    </div>-->
                    <div class="wrap">
                        <div class="wrap_top">
                            <div class="wrap-left">
                                <div class="left-top sun-div">
                                    <div class="sun-title"><span class="" style="color: #ffffff">堵塞区域的24小时出入流量情况</span>
                                    </div>
                                    <div id="easy_ec3" style="width: 470px;height: 510px;"></div>
                                </div>

                            </div>
                            <div class="wrap-right">
                                <div class="right-top sun-div">
                                    <div class="sun-title"><span class="" style="color: #ffffff">堵塞区域的周边POI情况</span>
                                    </div>
                                    <div id="easy_ec1" style="width: 380px;height: 200px;"></div>
                                </div>
                                <div class="right-top sun-div">
                                    <div class="sun-title"><span class="" style="color: #ffffff">堵塞区域的周边POI数据</span>
                                    </div>
                                    <div id="easy_ec2" style="width: 380px;height: 220px;">

                                        <br>
                                        <table border="1" style="color: #fff">
                                            <tr>
                                                <th>GPS</th>
                                                <th>POI</th>
                                                <th>NAME</th>
                                            </tr>
                                            <tr>
                                                <td>104.066164,30.507263</td>
                                                <td>交通设施</td>
                                                <td>华阳地铁站</td>
                                            </tr>
                                            <tr>
                                                <td>104.062820,30.509757</td>
                                                <td>生活区</td>
                                                <td>古城小区</td>
                                            </tr>
                                            <tr>
                                                <td>104.067661,30.511150</td>
                                                <td>交通设施</td>
                                                <td>海沧路地铁站</td>
                                            </tr>
                                            <tr>
                                                <td>104.067841,30.504242</td>
                                                <td>购物</td>
                                                <td>华阳购物中心</td>
                                            </tr>
                                            <tr>
                                                <td>104.066724,30.490427</td>
                                                <td>酒店</td>
                                                <td>维也纳酒店</td>
                                            </tr>
                                            <tr>
                                                <td>104.066724,30.490427</td>
                                                <td>景点</td>
                                                <td>海洋公园</td>
                                            </tr>
                                        </table>


                                    </div>
                                </div>

                            </div>
                        </div>

                        {#                        <div class="wrap_bot">#}
                        {#                            <div class="r-btm-left">#}
                        {#                                <div class="sun-title"><span class="">部门统计</span></div>#}
                        {##}
                        {#                            </div>#}
                        {#                        </div>#}
                    </div>
                </div>

            </div>
        </div>

        <!--主图-->
        <div class="wrap center">

            <div id='map' style="width: 101%;height: 100%;  margin-left: -0.5%;top: 0.5%;position: relative;"></div>
            {#            <div class='info-box'>#}
            {#                <p>Draw your route using the draw tools (25 points max)</p>#}
            {#                <div id='calculated-line'></div>#}
            {#            </div>#}

        </div>


        <!--左-->
        <div class="left_margin  box-div">
            {#            <div class="sun-div1">#}
            {#                <div class='info-box'>#}
            {#                    <p>Draw your route using the draw tools (25 points max)</p>#}
            {#                    <div id='calculated-line'></div>#}
            {#                    <br>#}
            {#                    <br>#}
            {#                    <div class='calculation-box'>#}
            {#                        <p>Draw a polygon using the draw tools.</p>#}
            {#                        <div id='calculated-area'></div>#}
            {#                    </div>#}
            {#                </div>#}
            {#                <div class="sun-title"><span class="">办学性质分布</span></div>#}
            {#                <!--                button-->#}
            {#                <button onclick="myFunction()">点击这里</button>#}
            {#                <pre id="features"></pre>#}
            {#                <pre id="features2"></pre>#}
            {#                <!--                <div id="ec1" class="left-ec"></div>-->#}
            {#            </div>#}
            <div class="sun-div2">
                <button onclick="myFunction()" style="opacity: 0.0">点击这里</button>
                <div class="sun-title"><span class="">道路出入流量统计</span></div>
                <div style="width: 400px;height: 200px"></div>
                {#                <h2 style="color: #fda400">Hour: <label id='active-hour' style="color: #fda400">12PM</label></h2>#}
                {#                <input id='slider' class='row' type='range' min='0' max='23' step='1' value='12'/>#}
                {#                <div id='pie_map' style="width: 600px;height: 600px"></div>#}
                {#                <div id="easy_ec3" style="width: 600px;height: 600px"></div>#}
                <div class="sun-title"><span class="">拥堵路段占比</span></div>

                {#                        <button onclick="myFunction()">点击这里</button>#}
                <div id="percent_Chart" style="width: 380px;height: 300px"></div>
            </div>


        </div>

        <!--右 1-->


    </article>
</div>

<!--引入对应的 js 文件-->


</body>
<script type="text/javascript" src="../static/lib/jquery-1.8.1.min.js"></script>
<script type="text/javascript" src='../static/lib/mapbox-gl-v0.54.0.js'></script>

<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.0.9/mapbox-gl-draw.js'></script>
<script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts-en.common.js"></script>
<script type="text/javascript" src="../static/lib/easydialog.js"></script>
<script type="text/javascript" src="../static/js/mapbox-gl-traffic.js"></script>
<script type="text/javascript">
    {#var myChart1 = echarts.init(document.getElementById('er1'));#}


    $(function () {
        $("#hideleft").toggle(
            function () {
                $(".left_margin").animate({marginLeft: "-125%"});
                $(".wrap").animate({marginLeft: 0});
                $(".center").animate({marginLeft: 0});
            },
            function () {
                $(".center").animate({marginLeft: "25%"});
                $(".left_margin").animate({marginLeft: "-100%"});
            }
        );
        $("#hideright").toggle(
            function () {
                $(".right_margin").animate({marginRight: "-125%"});
                $(".wrap").animate({marginRight: 0});
                $(".center").animate({marginRight: 0});
            },
            function () {
                $(".center").animate({marginRight: "25%"});
                $(".right_margin").animate({marginLeft: "-25%"});
            }
        );
    });
    // easyDialog.open({
    //     container: 'easyDialogWrapper',
    //
    // });


</script>
{#<script type="text/javascript" src="../static/js/Framework3.js"></script>#}
<script type="text/javascript">
    <!--
    $(window).resize(function ()// 绑定到窗口的这个事件中
    {
        // var whdef = 100/1920;// 表示1920的设计图,使用100PX的默认值
        var whdef = 100 / 916;// 表示1920的设计图,使用100PX的默认值
        var wH = window.innerHeight;// 当前窗口的高度
        var wW = window.innerWidth;// 当前窗口的宽度
        // var rem = wW * whdef;// 以默认比例值乘以当前窗口宽度,得到该宽度下的相应FONT-SIZE值
        var rem = wH * whdef;// 以默认比例值乘以当前窗口宽度,得到该宽度下的相应FONT-SIZE值
        $('html').css('font-size', rem + "px");
        {#myChart1.resize();#}


    });
    //-->
</script>

<script type="text/javascript">
    function myFunction() {

        //动态改变标题名称
        {#document.getElementById#}
        {#('easyDialogTitle').innerHTML = '<a href="javascript:void(0)" title="关闭窗口" class="close_btn" id="closeBtn" color="#000"><img src="../static/image/close.png" alt=""></a>' + "拥堵区域基本信息"#}

        easyDialog.open({

            container: 'dialog',
            fixed: false,
            overlay: true

        });

    }
</script>

<script>


    // filters for classifying earthquakes into five categories based on magnitude
    // mag1 = ["all", ["==", ["get", "type"], "in"], ['==', ['number', ['get', 'Hour']], 11]];
    // mag2 = ["all", ["==", ["get", "type"], "out"], ['==', ['number', ['get', 'Hour']], 11]];
    document.getElementById('slider').addEventListener('input', function (e)
            //document.getElementById('slider').addEventListener('input', mag_fun2);
        {
            mapboxgl.accessToken = 'pk.eyJ1Ijoic3VtbWVyb25lIiwiYSI6ImNqdG1zYnV1ZDF6NjU0NGxmeXk3aTlxeTIifQ.Bl298aYMAylfBduuZeEgtQ';
            var map = new mapboxgl.Map({
                container: 'map',
                zoom: 15,
                center: [104.0410418234,30.4665799517],
                style: 'mapbox://styles/summerone/cjwqji1wa2fm91cmr9t4wkl74'
            });

            map.addControl(new mapboxgl.NavigationControl());
            var hour = parseInt(e.target.value);
            console.log(e.target.value)
            // update the map
            //map.setFilter('earthquake_circle', ['==', ['number', ['get', 'Hour']], hour]);
            window.mag1 = ["all", ["==", ["get", "type"], "in"], ['==', ['number', ['get', 'Hour']], hour]];
            window.mag2 = ["all", ["==", ["get", "type"], "out"], ['==', ['number', ['get', 'Hour']], hour]];

            console.log(mag1)
            console.log(mag2)
            // converting 0-23 hour to AMPM format
            var ampm = hour >= 12 ? 'PM' : 'AM';
            var hour12 = hour % 12 ? hour % 12 : 12;

            // update text in the UI
            document.getElementById('active-hour').innerText = hour12 + ampm;


            // function mag_fun2(e) {
            //     var hour = parseInt(e.target.value);
            // }


            // colors to use for the categories
            var colors = [ '#00FFE0','#FF3333' , '#fc4e2a', '#e31a1c'];

            map.on('load', ini);

            function ini() {
// add a clustered GeoJSON source for a sample set of earthquakes
                map.addSource('earthquakes', {
                    "type": "geojson",
                    "data": "road1.geojson",
                    "cluster": true,
                    "clusterRadius": 50,
                    "clusterProperties": { // keep separate counts for each magnitude category in a cluster
                        "mag1": ["+", ["case", mag1, ["get", "counts"], 0]],
                        "mag2": ["+", ["case", mag2, ["get", "counts"], 0]],
                    },
                    //filter:['==', ['number', ['get', 'Hour']], 11]
                });
                console.log()
// circle and symbol layers for rendering individual earthquakes (unclustered points)
                map.addLayer({
                    "id": "earthquake_circle",
                    "type": "circle",
                    "source": "earthquakes",
                    "filter":
                    // ["all",
                        ["!=", "cluster", true],
                    //     ['==', ['number', ['get', 'Hour']], 12]
                    // ],
                    // ????
                    "paint": {
                        "circle-color": colors[0],
                        // ["case",
                        //     mag1, colors[0],
                        //     mag2, colors[3]
                        //
                        // ],
                        "circle-opacity": 0.6,
                        "circle-radius": 15
                    },
                    //"filter":['==', ['number', ['get', 'Hour']], 11]

                });
                map.addLayer({
                    "id": "earthquake_label",
                    "type": "symbol",
                    "source": "earthquakes",
                    "filter": ["!=", "cluster", true],
                    "layout": {
                        "text-field": ["number-format", ["get", "out"], {
                            "min-fraction-digits": 1,
                            "max-fraction-digits": 1
                        }],
                        "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
                        "text-size": 10
                    },
                    "paint": {
                        "text-color": ["case", ["has", "type"], "yellow", "white"]

                    }
                });



// objects for caching and keeping track of HTML marker objects (for performance)
                var markers = {};
                var markersOnScreen = {};

                function updateMarkers() {
                    var newMarkers = {};
                    var features = map.querySourceFeatures('earthquakes');

// for every cluster on the screen, create an HTML marker for it (if we didn't yet),
// and add it to the map if it's not there already
                    for (var i = 0; i < features.length; i++) {
                        var coords = features[i].geometry.coordinates;
                        var props = features[i].properties;
                        if (!props.cluster) continue;
                        var id = props.cluster_id;

                        var marker = markers[id];
                        if (!marker) {
                            var el = createDonutChart(props);
                            marker = markers[id] = new mapboxgl.Marker({element: el}).setLngLat(coords);
                        }
                        newMarkers[id] = marker;

                        if (!markersOnScreen[id])
                            marker.addTo(map);
                    }
// for every marker we've added previously, remove those that are no longer visible
                    for (id in markersOnScreen) {
                        if (!newMarkers[id])
                            markersOnScreen[id].remove();
                    }
                    markersOnScreen = newMarkers;
                }

// after the GeoJSON data is loaded, update markers on the screen and do so on every map move/moveend
                map.on('data', function (e) {
                    if (e.sourceId !== 'earthquakes' || !e.isSourceLoaded) return;

                    map.on('move', updateMarkers);
                    map.on('moveend', updateMarkers);
                    updateMarkers();
                });
            };


            // code for creating an SVG donut chart from feature properties
            function createDonutChart(props) {
                var offsets = [];
                var counts = [props.mag1, props.mag2];

                var total = 0;
                for (var i = 0; i < counts.length; i++) {
                    offsets.push(total);
                    total += counts[i];
                }
                var fontSize = total >= 1000 ? 15 : total >= 100 ? 10 : total >= 10 ? 8 : 6;
                var r = total >= 50000 ? 90 : total >= 40000 ? 83:total >= 30000 ? 75:total >= 10000 ? 65: total >= 8000 ? 60 :total >= 7000 ? 55 :total >= 5000 ? 48 : total >= 3000 ?40 : total >= 2000 ? 35: total >= 1000 ? 30: total >= 500 ? 20 : 12;
                var r0 = Math.round(r * 0.6);
                var w = r * 2;

                var html = '<svg width="' + w + '" height="' + w + '" viewbox="0 0 ' + w + ' ' + w +
                    '" text-anchor="middle" style="font: ' + fontSize + 'px sans-serif">';

                for (i = 0; i < counts.length; i++) {
                    html += donutSegment(offsets[i] / total, (offsets[i] + counts[i]) / total, r, r0, colors[i]);
                }
                html += '<circle cx="' + r + '" cy="' + r + '" r="' + r0 +
                    '" fill="white" /><text dominant-baseline="central" transform="translate(' +
                    r + ', ' + r + ')">' + total.toLocaleString() + '</text></svg>';

                var el = document.createElement('div');
                el.innerHTML = html;
                return el.firstChild;
            }

            function donutSegment(start, end, r, r0, color) {
                if (end - start === 1) end -= 0.00001;
                var a0 = 2 * Math.PI * (start - 0.25);
                var a1 = 2 * Math.PI * (end - 0.25);
                var x0 = Math.cos(a0), y0 = Math.sin(a0);
                var x1 = Math.cos(a1), y1 = Math.sin(a1);
                var largeArc = end - start > 0.5 ? 1 : 0;

                return ['<path d="M', r + r0 * x0, r + r0 * y0, 'L', r + r * x0, r + r * y0,
                    'A', r, r, 0, largeArc, 1, r + r * x1, r + r * y1,
                    'L', r + r0 * x1, r + r0 * y1, 'A',
                    r0, r0, 0, largeArc, 0, r + r0 * x0, r + r0 * y0,
                    '" fill="' + color + '" />'].join(' ');
            }
        }
    )
    ;

</script>

<script type="text/javascript" src="../static/lib/echarts.js"></script>
<script type="text/javascript" src="../static/lib/echarts-wordcloud.js"></script>
<script type="text/javascript">
    var myChart_5 = echarts.init(document.getElementById('easy_ec3'));
    option = {
        angleAxis: {
            type: 'category',
            data: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24],
            z: 10,
            axisLabel: {
                color: "#fff"
            },

        },

        radiusAxis: {
            axisLabel: {
                color: "#fff"
            },
        },
        polar: {},
        series: [{
            type: 'bar',
            data: [92, 96, 39, 55, 20, 38, 79, 277, 549, 586, 720, 759, 681, 830, 976, 1058, 1105, 1698, 1705, 860, 784, 701, 551, 589],
            coordinateSystem: 'polar',
            name: '该堵塞点入流量',
            stack: 'a',
            itemStyle: {
                normal: {
                    color: '#fda400'
                }
            }

        }, {
            type: 'bar',
            data: [94, 82, 34, 53, 19, 36, 68, 242, 501, 590, 728, 777, 696, 856, 963, 1027, 1073, 1649, 1554, 863, 764, 693, 560, 643],
            coordinateSystem: 'polar',
            name: '该堵塞点出流量',
            stack: 'a',

        }],
        legend: {
            show: true,
            data: ['该堵塞点入流量', '该堵塞点出流量'],
            textStyle: {
                color: "#fff"
            }
        }
    };

    myChart_5.setOption(option);
</script>

<script type="text/javascript">
    var dom = document.getElementById("easy_ec1");
    var myChart_6 = echarts.init(dom);
    var app = {};
    option = null;
    //app.title = '笛卡尔坐标系上的热力图';

    var result = [
        {
            "name": " 交通设施",
            "value": 2056
        },
        {
            "name": " 景点",
            "value": 1878
        },
        {
            "name": " 购物",
            "value": 4401
        },
        {
            "name": " 汽车服务",
            "value": 2623
        },
        {
            "name": " 医疗",
            "value": 2772
        },
        {
            "name": " 政府机构",
            "value": 2744
        },
        {
            "name": " 生活区",
            "value": 8390
        },
        {
            "name": " 教育培训",
            "value": 3191
        },
        {
            "name": " 金融",
            "value": 1818
        },
        {
            "name": " 美食",
            "value": 1279
        },
        {
            "name": " 酒店",
            "value": 2091
        },
        {
            "name": " 成都三里汽车技术有限公司",
            "value": 570
        },
        {
            "name": " 劲松开发区",
            "value": 239
        },
        {
            "name": " 文化传媒",
            "value": 181
        },
        {
            "name": " 生活服务",
            "value": 433
        },
        {
            "name": " 中德·英伦城邦J区",
            "value": 21
        },
        {
            "name": " 全家福芋儿鸡(老码头店)",
            "value": 259
        },
        {
            "name": " 公司企业",
            "value": 715
        },
        {
            "name": " 旅游景点",
            "value": 272
        },
        {
            "name": " 中和劲松500号附17号",
            "value": 5
        },
        {
            "name": " 维也纳酒店(会展中心店)",
            "value": 19
        },
        {
            "name": " 国美电器(华阳店)",
            "value": 19
        },
        {
            "name": " 天府新区公安分局",
            "value": 251
        },
        {
            "name": " 泊尔曼酒店",
            "value": 59
        },
        {
            "name": " 成都师范银都紫藤小学",
            "value": 51
        },
        {
            "name": " 成都新星国际幼稚园",
            "value": 13
        },
        {
            "name": " 休闲娱乐",
            "value": 22
        },
        {
            "name": " 中德·英伦城邦K区",
            "value": 4
        },
        {
            "name": " 博世车联(成都高新店)",
            "value": 4
        },
        {
            "name": " 馨绿家园",
            "value": 12
        },
        {
            "name": " 南新幼稚园",
            "value": 3
        },
        {
            "name": " 锦成汽修",
            "value": 1
        },
        {
            "name": " 劲松成仁路小区",
            "value": 4
        },
        {
            "name": " 华阳红房子",
            "value": 2
        },
        {
            "name": " 福满家超市(华阳大道四段店)",
            "value": 1
        },
        {
            "name": " 家乐福(华阳店)",
            "value": 1
        },
        {
            "name": " 中和劲松500号附27号",
            "value": 1
        }
    ];

    myChart_6.setOption({
        tooltip: {
            show: true
        },
        series: [{
            type: "wordCloud",
            gridSize: 20,
            shape: 'diamond',
            sizeRange: [12, 50],
            width: 800,
            height: 500,
            textStyle: {
                normal: {
                    color: function () {
                        var colors = ['#FFFF00', '#000', '#BBFFFF', "#00FFFF", "#EEEE00", '#ADFF2F', '#EEEE00', '#FF00FF', '#00FFFF', '#FFFF00', '#BBFFFF'];
                        return colors[parseInt(Math.random() * 10)];
                    }
                },
                emphasis: {
                    shadowBlur: 10,
                    shadowColor: '#333'
                }
            },
            data: result
        }]

    });
</script>
<script type="text/javascript">
    let percent_Chart = echarts.init(document.getElementById('percent_Chart'));

    //借用map和apply函数实现数组的初始化，参考链接：https://www.jianshu.com/p/ff5cbc2c69be
    let line_smooth_x_data = Array.apply(null, Array(24)).map((_, h) => h);
    let line_smooth_y_data = [0.19, 0.21, 0.16, 0.16, 0.10, 0.07, 0.09, 0.21, 0.28, 0.26, 0.32, 0.29, 0.32, 0.32, 0.32, 0.34, 0.28, 0.25, 0.32, 0.31, 0.34, 0.31, 0.29, 0.26]

    option = {
        tooltip: {
            trigger: 'axis',
            position: function (pt) {
                return [pt[0], '10%'];
            }
        },
        // title: {
        //     left: 'center',
        //     text: '拥堵路段占比',
        //     textStyle: {
        //         color: "#fff",
        //     }
        // },
        toolbox: {
            feature: {
                dataZoom: {
                    yAxisIndex: 'none'
                },
                restore: {},
                saveAsImage: {}
            }
        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            data: line_smooth_x_data,
            name: "小时/h",
            nameTextStyle: {
                color: "#fff"
            },
            axisLabel: {
                color: "#fff",
            }
        },
        yAxis: {
            type: 'value',
            // boundaryGap配置该轴的最小值和最大值的最大留空。10%即表示超过最大值10%的高度
            boundaryGap: [0, '10%'],
            name: "道路拥堵占比/%",
            nameTextStyle: {
                color: "#fff"
            },
            axisLabel: {
                color: "#fff",
            }

        },
        dataZoom: [{
            type: 'inside',
            start: 0,
            end: 100,
            show: true,
        }, {
            start: 0,
            end: 24,
            handleIcon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',
            handleSize: '50%',
            handleStyle: {
                color: '#fff',
                shadowBlur: 3,
                shadowColor: 'rgba(0, 0, 0, 0.6)',
                shadowOffsetX: 2,
                shadowOffsetY: 2
            }
        }],
        series: [
            {
                name: '拥堵道路占比',
                type: 'bar',
                // smooth: true,
                symbol: 'none',
                sampling: 'average',
                itemStyle: {
                    color: 'rgb(255, 70, 131)'
                },
                data: line_smooth_y_data
            }
        ]
    };
    percent_Chart.setOption(option);
</script>

</html>
